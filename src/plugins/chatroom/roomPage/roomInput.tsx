/* eslint-disable @next/next/no-img-element */
import { styled, css, Box } from '@mui/material'
import { useCallback, useEffect, useRef, useState } from 'react'
import { EmojiBaseProps, getEmojis } from '../utils'
import { useActiveWeb3React } from '../../../hooks'
import { providers } from 'ethers'
import { api } from '../api'
import MentionList from './mentionList'
import InputArea from './InputArea'
import { RoomMember } from 'sendingnetwork-js-sdk'
import SmileIcon from '../assets/svg/smile.svg'
import PlusIcon from '../assets/svg/plus.svg'
import SendIcon from '../assets/svg/send.svg'
import { msgMoreOptIcon } from '../assets/index'

interface RoomInputProps {
  room: any
  useRoomFuncs: any
  openUrlPreviewWidget: any
  closeEmoji: any
  showReplyOrEditMsgDialog: any
  setShowReplyOrEditMsgDialog: any
  inputFocus: any
  moreOperateMsg: any
  showCheckbox: any
  uploadFile: any
}

export const msgReplyIcon =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATVJREFUWAntVtttwzAM9AgdoSNkhI7gDdoRskGyQftjU6Q/nA2SDTpCR8gIHqHFBWQhGH5AdKIChQwQBGSTdzxSsqqqPEWBosCCAn3fPxHRGxE9L3z2mFcAF5EvZv4mouNjUGayxuDMfM2qwJ+CQxAiOkF2tQEKpBpaF0L4cCknIp8RASOyxb/PdHp6GS1g5tvwMfNARC+oJNEQ86skippGm1kdkXAPIUhr+6CgXwn0c4br6nLTNDtrKQpbDRh/wMy1KzBKZO3Ifp4YBxQBFUIIF1vL6nUWMAfXrMAGhp2kCqTtBkuw1bdtuwcBEem35nLFR1vx1ZVgS1DXdQfdhnn7r4fZWcHxS/fdKRCI3iVa/D+5HeduFW2ArJIUD9Luyo2xSlnr1QzXs1W7x+lp+MUXBf6/Aj87D6rIw3omUgAAAABJRU5ErkJggg=='
export const msgEditIcon =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAe5JREFUWAndVtFRwzAM7QiMwAiM0A1gg7IB3QA2KD+tJPcjbMAIHaEjZISMEO71bJ/QKY7xJXBH7nK2Y1vvSXpWvNn8p4eItsz8HkLomPmFiO5/xT8AhRAuIjLa93w+v65K4ng8PojIYIH1GOS6rrtbnAg8F5FegQ1E9Ibwi8hVfR+RlkUJOOA9oqFBQEaTEJG9nm/uO+Dw3BUcRKlIXJtB00YHfARImrctcq81MkXU7nPH0ZjOeVL9UBLZIgQAEEL4JiwjwIPHWkSeVAoGb03VNwd8b4yP9szbdDWfBGxUXoxQd2JtRIaUIEU7C47vTfkvgScSRPShCTr9wR7RtLfYIqTamPbcbnTOfBIoIra162fHPwFPxmJZzsAgT0TPab66teClc66NekLV81X9KJ7sBfJbs7FGKzV2NkbVVaVzMXAwFJHPJDxmfpxjbdNVEuqcrdu8/o3OqXdx8BiBfLko1XcLXivU2Sik8KOdWmzBa4U6ZS9/NyegzxOxE+cPmiQzX+y65rEhcLteRYV7v2Bcs66lNDUR0SLUnto+PF8cHIxjOXU9ZuaemXFMd03e1W5CKlDDcabRgtQq3lpCAIngILDKO+lIDH2uATbnS47dAnc6nXDFyj+hNftuuUZooOwoNIhtrfeC9Nr0/9n4C9Ku4POo/cUzAAAAAElFTkSuQmCC'
export const cancelReplyOrEditIcon =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPFJREFUWAntlYENwiAQRTuKozgImBvhb6Ab6AaO4AiO4AgdwRE0Z3pJ+5FSGmhMpElD4D73f15o6br2NAKNwK8TOAiOXnDOzSmCnRfcvAC5eyd6L+i94OUF10lhZjKYf/Y5wX1Gmi6Nmy0JQfpe52mXhIKaRkmQroy5ZaPmQQiqlzVPhdjEPBZiU/NICP1C9K2D3Ux5dIL9YKzmTyXBmmpzwm4EgoNZJQCZ9wOJ7J/VqnBsbthpvQ4JMgkOHNXLhqDmgbnhJF2ZENQ0al4txOg2TJp/C+EEJ1tfNWoAJ3goiZwGRs4JLjn7mrYRaAT+j8Abzf3x9SAYzlgAAAAASUVORK5CYII='

export const msgImageIcon =
  'data:image/png;base64,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'

export const moneyGunIcon =
  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHAAAABwCAYAAADG4PRLAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACuVSURBVHgBtX1prF3Xdd537vBGPvI9UaREUcOTLEseZIt0bauOI4dMWreqa8Qp0rQFWkQG/KNpUUtO0T9FAUtAfwQokNDtvwKFrBqJ0wGVE9iNEcARUSe2ZdkWLStSrMF6GjiIFMlH8vENdzira+9z9tlrrb3PfU+WvKXHe88+e1h7fWvawzm3wC840XOPLI8xdaQo6G5CuVzwH5W0SMByVYD4fxIVqP4oRRa13uOr6t9Sli81Db4eifqyPy5bFE39eI+ydWP7haDd31vhnFW+XuGsH3cwOgH0TiwdfWgFv8BU4BeQ6LmvHCm7xa+jxGd4sMt1LjRT6k/JTNTMUcwSDPX/hzqijGK+ZTR0uaIQ7ZMRIDIAFoqeCCZEmZyACTocoAWOc8uP7jv6H4/jHU7vGID08mOLGK0/UJblg9zsomeMvyGAQylx1AymcD8HHoz2pVpn20vBTIXFaV+VRS3gF5WGAkZ4xHVzkYKnx0eutRWu83C3Ux5fOvp7K3gH0tsGMAEuSKgaYKnASJhpwSMSQm41N6+9rVrk2nJa14BdaVYAJmkTiQZl+msz+xlahbaGPCZnlb99udehL71dIN8WgPTSHz9A4/FDTNhizLRmiFLw5MA8WOFaM1KDZdoLTPP/tGtidVuA12hc/amYXGukqV/JQanpFeNV4wKMSdV0KsGkcoX/eXj/J//Tl/Fzpp8LQHr5q8s0pEeY0CN1TkYbUjOSBc9IO6mOpACI9icGLG3g2faw84BFmfwCMABSi5WYDK4cA1bKsnP0wH1vXRs7eIvJa92InqrA04ytxh7ySEitMEFW8yQwqiPN7CqLdhBt1t+5XFNWMDI1k6YfMlqviDJUtoFXj7Xqr2w0Ng+er7Pc6YyeOvPN330QbzG9JQ2kF/7oD7i/B63kVsSGa8prgRTcxoxlpgpVBZFHsQ3ZJm0TwLS05/4rAEEvlHlUNDcXqHy07nDHmkdNHkG7itC4aLugh677e7//MHaYdgwgPf/VR5iU+xNCa2CU5gkzKU1QleH+KTNmDMgHCSmAwZ8k9Y1/jG3mpgpVINN4qFazSWLmETSrGkMsnwOnFLSK+1F60DZl4rF++cCnjn0WO0g7ApCe/6OnuOlD7VIWSLXRGWBDaWR9ULyvTVsOOCn1bVrR0l9gYiN4hPZJP5COJyNYWZ5I8Nw/OaAs4EZrCSdu+NSxw9gmbesDK80z4ClCgDDQaOORBU+XScGTwOn26+/NHJAS8L3Ps20inVL4z4Iac2rpq/yXICkr43IsUShIuIXtwaOmD2tFql7p0OlvPPAItkkTAaQXvvrFymzGyXPsNXRmGC9NZ9piMwhSbZX14G1bsc9C8bFQLVr/iNqvSKkOZpNqE1iY9pNJuhCWmstCOzJCAfPh88uEbU2dooAca0MjQYBL95/5+gN/gAmpFUAfbRI91GbmSAAnNY+8f8uYNqO94mZkqCxflkmZ+D0OvMhoXdpVBR4UzSKwKQ2jUbbQnmpKLFa3W9ex4FIAVLabpVP3MabywVNf/9et0WnWB/p5npsqlGGCrjVCEpP4PCl1xq4n5aElu8kt25bEKJHiRPskMFJTmv51GRh6cqY5tgHsPGChdAxJHrZvsyq32un1Dh+479gKTMpqIE/SH6/AsxLRDl6Y82jwCGrtUoFdCvBEG4Jhum6pwCOrpY2PhPZPjcZB+FGRipY4jqQGSaZqbcwFTZnG6uxowuWYtwHPpUUaDR/JNJwCOHr+D+/nisuwxpuoVZNyoTuBMlIWBpNu3dg20rpFLKcSwZoqu92U8QJKU0Id1ScAO7csio5oQJYU3KJ4P/o1KQhxHNtHo6FNT9uRU3/6O4kp1a7nua8ul53ycfi9OlLEamZnJtESn8aM5omx7VXZGTPU9GfaScwwskKjAKcyT68tV7efCqthdN1mAwntfKqg7+f4q2kR9VeH5fStt/7GsdVwW2tgd/wAF1uW4Flz1Dh4yjAjA55KyQpLagoLmAFToQdjQaxNYwnpq+Sf7reJ9ETdFDxDQw4ItUxYf6/NMWUELI2ILXiB19DjVXWw2OtsKi1suOO1r1s+hbCzoAZipVEQrcaeX1mIxNBEswnEPicuSov2qv/TgCWnrYmPLpCUowydOc2iSJi57/6NS3PtboTSPFh6csJVro4w12hho4HjbnmkAQ+aGVE6ROMEzQyrHep7iYQpDZFo/A3liBblIJmGOJ1JmeD+FYuvjQYUIotawWvrNxHIBjypeaUev6orNa8QNFvwSmEpCkGLr7fYK9cbLWwA5PnUF5uOSyRmLhJSwrCzBiAyw7AhHQCMRpmdeVlbm7hUcgk5zYva2ZSpx2Z3/VP6xHe1bin5oWnR/do2xcAImTqBNBKKIOiu+4nmlRxqD4RWPYD0wleOwPu+mmGoJdxqQzMGAZaXQhHuqxFYzYPa5kkiRgpEF01ZKPDswGOeMvmCGdJMx/laTkDamR00Pbkv2pD9NoCo9mH6lLzRbVsVsMLPafG1xz53xH3xAPJm4m9bldFHHDKDSJgjJdIODrBApgXRCE5SllrAE2UpEhrpQ6FoKopMQMR/RaeLzuwiiqldQG+ar/tNWTuPTSyJBE8OBimwiTALWqOWGR4n22gV+CXRZ9x1r849ktp/UauQTEQWKEF21KSkTct8CCZlBtX0X2/9SG1s6hfmGsqXJP3VglB0eiimF9Dbs4z+tXeit3DQly8HaxhvXuLFDP68+iZGGxdBmxcx3uK88ZCDhSG3N0Jm4KrvdmHN39c0BrAzHcRx/Dr/+2Dhos8xhi+HXM9MwxO7PNYaOdVMa0yZLPNWjv5JYkmXI2FK1SBbl8dMH07jpubR33cXpg9+FN3+bN2cM+1jdLpTKFgL40ZnbepGA4wZ3HJrFeX6BQwvn8Zw9SUG+ZyvJ8espx4yv+JNUeSELJaLPMy0Kb5Pdcpbe+PO6BDro7gh2rGmIWgW2qSMJoMnGzf1/bdkqgBjgk3bAsi6QVhTRsqEdtFbvAm9Ax9Bf/dBBqvvtUoCXI420eV8+FUX5jTX8XX7PfT6c8D8fuAaYMaV3VrDpae/guH5l4AJJlULbT0OpWWCfssA5MFzaVh2jvSYuYcKw/CmoLXH1iTKjshqkwavvjD3RVsti9KRcMD2nbUwLcmB17/+MKZv+Ai6U3OsZf2KZmcWTXJ5lRaGxvPrpZ3pXZi54cMYnH8RO0k5s1oUFrfcQoKsH5WMSx7q8fThbjWhRQ1Elil57al61AECYYIZg56DUbKgrHU13VukRMCy13Xq7roe0zd9grXuBg9M0alnT65b9oVsG1XrJV93PYDbS8bM/vdjY9d1GK69MdGvpb49N0lPFSkFsmi0ly3nco8vl7UApERXWtQOnjURnjFlS3lkIrFEGHTbLiIMUpkLtvKL11WgMnXjxzDNmud9W7eX7D50OG9cjrR1cD7IaaEzpaETn1JNLNisTh84jMHz/zfSXxRojTYhxyHHrMFrM5u6Dm7pkduqkJHTNmZTSQkBWWlRW0KSqFIxIXlWoW2hW/Vpgp4gMArgAt25/Zi9/T7+3OuBK4Lkur+OWALm/js8jSjHpl3WwgigL4i2NMPB0MbrT2DEUWscv6Q9jZRhR9FiKuP3uo1SBT2LHaon8FX7RrJtNxmpaWM2ISc59VYKkJzZRGtfLVKLIBCCUF74LljTpjhImXvPZ9Cd3+c1rLDMN+24eWDSv9NKji5FDtpSd2Y3Zm/+5aSsFryYl1owpGMChPAXpo2mj+VebN+uiEzYEsoRCJgtodRvNUxoC1gowBsVkyLFhj4tYY6WDgM2c9O96HOk6ed5IZLcLjGADkSqAXNtnXvtWbz+0x9hxNOHuflFzC9dhyn+nKn/Zud3oz+zq4lWZ2+6B1fYjBJHsTmSE40gaZXiGOJ+YV0n1C0pbZcveqkPcUmuwhCytFh7ngE4EiUAtwGLAc+ajCIERA09GXp7M5je/wH++yCKmT1sErcBLbQlaHGrL8OtDZx99Vk8/8Q3cOmNF9HrFpjetQ8XR1vYurrqAS6LHrff4/njFHpT3K8Dc+FazO/ZiyXswhQ2W3xe9RnGbAVzos8r8xrt/utlNU8MVIGXdJyJBtEOJjI+VhKW92diMMb8uG+9uWsxffMneCXFRZhTerlsUjIgXr5wEk987b/gypsvo8/ALN99FHd8+D70ZpdYQwueH46xtXYBaxfP4MrqGWytvoG11bMYbFzB5TdewuVTz2Lf7fuM5lnGx37FXslk8BJXBcX/nsxMpAKZAZO5m5i3PCGmVEJYHnjK0+Pm16wJ/X3v4wjzQ34ds5PxY0j8b5UGl17D+mtPYtetv4weTwFcOn/yBZbPLdz5kftww50fw+59N3thcKa405v11ef27MfSwTsQNnGcyxgN1llz11lLhugVQ2ycegpXf/YXcYiw/o4Uba0BSyPsqe+P/IproWkhhXgaHebnXRZkcW9CAJSfPylqo0/msXVmr8XMLax1u2/0E/Sis7NndFxgsvH693Hlle/4KJNojKUP/GOvhbe8/17c+J570PU+jVQdwoi7dawqIz+4nOvX+UHvC+vkLMLGa9/lNdWryIPXZjYh7kXwXPLTqFKUReRfJ9hSaapIms6EyVQ1lkRV4r5sqyyRN5vhUswxhdTJne4IHs/rrn0v5t/zj3hSfjNbtk59PjaVUNGhb8uF+OXWZaz+9JuYPfAhLN39zzBYfZUZve5LOZ82xUD4uaJtYewWr+spUC1EsKauTh3e0Zi5/oNI14dzQip5IVxXKTasiczjBVRvyVV1O3lNai4A5FYIUlCra72r3nYMgtRn8AZlkKt0oOSWrTj6e9cnMb38q8ykuRh/5AIjVb+i4fxT/513GS5jas9BX37K+Uw2j8OrbwjBgV8fTdrwE/1aqHxX0oOlaX75EzzBnw+VQyuQfNI81HFHmopaLVJL2UFLgBAat2Yz2S1A3gwW2WiTGoJVgEKG7pqh1SoML0DvvRPz7/tNTO+9wy80J3DJUJyZvXnup7j6+pO8QnYVl/76T3z+9N53Yf30Cda+D7Kf+qGfzC/e9Zvo8zKb6tf7vW4iyNTMCSnwtDX199yMmWvvSKxNQrYym3rcjWJ5a5hujAdaOvGrvqGeDcj6PHNMz9h2a0JCvvxs+mookGaTiZtZYo37Ncyx5nV54bhV0UJzDN7qT/63/xtcfNUHNuuv/4A1bxXTS7dhi4Gd2nOL34kohxteGzu8nSSZ51JhtLDyQWPeCtzielt+x6J0uxjurxxU4NI4mn3+m7/1V7yGp36vzPIMJeWVyPpFJfh1FJpdHlNBCbUajezjWQagpI8kvzDCwcHA7mXMLB9l07mA7aZ1qP3c1sVXMLh8Cvs+/nkGfAFj3oyduuY2rL38bXZyU7wpe4Ujyh6uufufYpIKFT5AqSb23pIU3SqYIWo1nJXFKarghr/35vf6ddKwUE5ZNazzyqAk6a3WujXYPX3Tr0IjEwRCBzOG+QiqjsYMxWAkNcOthLlLNynnBWgXrHScOdvhtM71s3n2WcxxAOHAG/Gm6/kn/xt2v+dTOP/9/4ppNmnX3fu76M4u1h21NFzWh3UdEN1OtTCNNgBgxlIJUu1NzTnRjPUiOXDx2QSWVV51IEFrYrhS80CYgEUvNhsJCQ1TRvWJ9GeSrQeEepG7d+2dmDr4sWq/rtCHfEPoPik5LXHmzXXkNZA1bnppGdcf/fc89VgyAUoeRGcaS7NHmItMt0s0XIebpkwEL1EG1YIADZFew+t6HtgyzwOE5gFARnuy4NlyuUg2tl1MLfB+3b28W35LnBrkUgbENZ7Tzey9nSfk+zHDE/vzP3rUgzhcfY0DlkM+YnV/mcbqz6AlvEw2GiL3XGPho8B6aa9ZXy0nauX6a0/4qFcDFHiGRmjzfLXgxfFbC9ZDBvn6btJovC5taTlauF0BIrulJAuUjant7bkNfd4l77lTYRwZTraYgY7Cz+ncnGvzzRc5GLnJ351hf7fwrqMYnHseUxx17n733wG2a4/pKMcjoS2CUgbLzQE319/0ZQLYDlBPq3fOHb/U5nc8iure4M1nsbby/zKKIXkkxxPIIQBlO63yqsakl5pNgj59N0HNVcASVTxQmURaTZAEP0+auuEe9Hlq0PHARXAmDoDbH62fx4UTf4jF9/9GZRZDn9zO7tuO8gbZJ3wEyHMOTEp+cXo8ymhSRcPg6mWMR5uZyBBZPpcbF7B58rsYnn++mjsCectTUqJ50u9Z00lZl1R97+Wiw1jebnXEckm06TUKNUap+gdBcEV6S+/mPbsPc0Cxxy0FGW6066CbGlx64Zu8IDPn53UXf/zHHKXu0YVc4BN8Vq3lGWI8cCWZVSJU0eRowCZ4cy1diGhJ5fAqRuefw+apJ0GDdZByO/5bXTDk28hdWKsyxSONJajR4F5T0QCSgUB/ywUtZbNeAGkigrQVXY4wD96D3jV3suYUKGwvVExQQMKFZ/4P9tz+a7j8s8cxf/Bv+TbXXvkesuqQC3gccAxKGVZWVPnCm8vB5lWe7w2Q40AujS6/is2V4zxlOV/7KGk2MzySflDGmplH3oTByrcJVCZUdhCFxk7UM1qXdKb37qTp6ew6gJkbP44uL/Z2QplEO9wgwoGj2oxdOoWtN3/qAxIabWD9zNO8ynGnb2fh2tt5W+e1Fk0h/dH4ulxZ1rrNdYy2rmK76ULT+uAytk79gP3tM/XRRMtcbTKlIIf7cs1Y45LuF9oxUbBm/rr1QRPS5pBy/kyubYZ7arcLXQfeu+5jl+SON4w1TciA6IOHIS99PY2rr/yVPx3tIkm3g9Bl3zlmHzje4MCCmejmbe5IQ5ICMYWbGrCvK8fIJTdlGG6s1UHK9sntuA/PPY2tN55GuXmp7ioCkY0TIM2huhmLmDx9KKw0t6nBppe+UKCtLysNOpQOn0U4kSWCGefvej6g2Il0Fx6UweWTWP3rx7DnvZ9mmRpi88wz2H373+Xo7q94D/AunjK8B5tvPFPt6c1dk20pal1qLl0fzs+55bGdaJ1/HuEqb+C+/pcY8n5i5jl2M1WQAg6kmhew1UqRexbCUKL6aXyg+jSaN3lXAaJsBC/kdVy0yRqYBY9qIUAVsrs9tKunTmB05QxmD36IF5r3c/0ZzCy9F1de/BaWDv8LzN/8Ub/A7UCYvf4DqHd37Rgx9sfdM+bS3RtscKCysWOtKwdXMDjzIwzPPlMtFDRssJqnFUDyqC4kb6bg5YIVYeliXqzesxWza5s6o+lMBytySU0SyHM2GvFUKRfSl1g/+zccCJzCwu2/iisr3+HtnXMomIa1le/yOuatrGW8PHbgbuxxUwa3657svAtTUVRTl3FZIuer3bTBmcvxaFBpFAPozre0bQg7kz28+DMMTj3hzbYEqNVsNvywa5ty0R75qUKbNuuaqs/eROthGrWV4yFB5KMuqkLs8dob6Oy+wbRTac0WA7Rx7m/YJN7hN1gX3/dpn3/+qa9i1/IvMZDf9tfzvA2UJnHG1AFSIqN1NagDF6Q4c1n5wsFg4A9MdWem/YTcvsayvPI6Nl//HtN+ut5KmgSe4RFZn6cDlgQ8tIBHTSuN4kh5dXm9rBSF65agJS3fPgAXmg/Zn/X33IgQIG2cfYFXXnajv3B9xXA2n4NLpyuJZ/PpVjf6C9ex6VzG9OJNaE+VIDhaxi1zNhcMuYNH1lx2WeumZ3ehx7sTYw5yRuVWVZ7BGpzh6NLN6fyaqAZoYsAyMdqElFvEDMqcYqeWsQaFiY30cpUi4iKHKAlY4kDi9ziFiPOa8cUXQTd+tNJYZvSFn/xPv1Jy7eF/7p9DWFj+ODYvvMQ+7S5c+PH/8Jusew/9k9q9deH32jJnPKsttPY1yREHKe6oYC65A7/d2QU/F+3Qhg++Bm8+h62TT3B0eVG4CsGFnLYFmnLg2bqk1Ado83lNXTICY+uSCWKIUvCoXQJjXaGdNVPDy9y8dgzWeBVlhXcGbvH+Znb/+3j+9gouPP2/fDkPIK9fzu5/L+Zv+tvM3K6YiBfIiC6bS3JPqSKXXIAy2lr3wjLY2kS/309OX7vlu26n74OkcriJYv0MNl76Zj2kyRFmlS2OShiNE4Xg3x2XLEwTIjhI+gplSJnNPCYdtasgOpYoywGEgK8SKLPLEDpSh37Im6Lh+RcQnrWbve79/rzl/E0fZeat+4VsF1G6JbCOfwClYwYbmepAG43LLHjO/G2trfoos8vAbF4+i6vnX0WvP4WZhb3xTUt12lp703fV4T1IN1f1RwwTK4OM2ZRbQhVtgR8NcxDBK5odacGTRLMjDytrJ9aRpewqWkoThWakwKIfi4RTWiSKkrkOvTPTV19uKJnm6PLyS3/hP52vc7vu8zd9uN79rtvMPHLmQCuz2yys5axFbg2z0+ujNzXre5pduAb96TkPbG9mAVvrl9z8wi80j1c5ujz7E/Q/+Fv+8TN3xKK/dBtPYU5vo3m6X6tJkV+ijWRSXmQEJX7m20NGoSC2k1Qlc4ytqVgg7jiLTi3RJOeR9SYk+zp3oHZq9wFm8hSmlm7FaO0M5ni+p1LTt4wwneYV2ozUya1bDnkJzJnE/vQuf2QiPFPvv29xgOIn64U3mVsM0PD0kxhdepVp2uJ9w1fQXThQNVaOd+bnY4ah3dRJNmShzG0y8c+UzYMX8emRrZwxIVWq9/GckgTtakwFpZrYzAujPxmce4737lw0OsZu9ntFfwatqdZCB1x+b3Ps1y7dY2F91rhOf1qfhGPb6CLMgTvP4nbZWcO6nRIbL37dL4H5U9e9WfQXl3n3fNOv9ozXz8oeTI+lGBNSPlHDXp0fOaQVI4klctpOqVAY69BpM5uhAAlfFvPC6StATTc8bqJDM8jhhecb09hlk5Y7gxlS6VZNywx43lxuYdP5utEIfZ4KdKdm8s9EdKZ4/bXyu8ONS37Xvje3t75Z8JbUu73fc0GMO+BbTWECvYXhQT2mUgtlZBkhbFRXB58R6/h6peKr0jzSPi8fKAK5+WfLmZhU5HN+koyECOtg6tWdujnZ5dO8tLavqROYCZHDy9NZC+UWnkc8LXDPIrhpyMyuxeyzfSG5aPbKxVO4unqOA5pzmNm9FwscEXdm9mD+lnvZ797jpzGjtbNYe+nP6+PwdhDieyl5JLkggMyZ0WSDXDfdNg2Sb7Co5DMFsnk2whKWLqGVkCEogaBdQgbgjNP1ZpT9oHsYpEpxdOy1vMnMDcQFKIN1XpNk8KbndmN2915sm9jnze3Zh3MrP+YA5gq6HODM3/ZLmLnuLv+OmOGl17F+8oe8EfsDb2IrOiPT9HF3MuNs/glEIvXR9fgToIR1kv8qHpq2jdCE2z0LngWxkM97y05z5sClIpycyhDG126yjNs/yd9HgpyiDlLsojT5zdfh+pp/Cujq5QuYW9y3M/B84jnnriW89+O/5R5+qB8V63Ok+QY2X/s+1n72Ld6WulDTK8ft/i3lBYC8loTH8dKAhUz0KcFMeW1bjV3ThPLiYG/uZjw2GOc9OkQ24JGcS1qpqudxztdw9Nl3W0BuzZE3cMvMNrzTBL/JOtj0ba1dXvUT85m5zN5fSwoC2J1Z8gHTmFdmBheewcbJ7/tT2uHcShxLRiAVw5GWIaQm1ZvNvCVSW6WwZWInaRRslworLW4e8IyaRtFENj0igucNsulUtWvBS8sMePG6e/PH+X4nr3UjDu8ZvFI8j+CmCVT0d7wFVDU19pGmXw1au4CN0z/E+s8e5yBoA2iJ6tQ4avDy88JgjeT45C/BmPKq6Rataqxhk5EpE9qnOgqtiVBEqkGUdf/SHxiJqCMv/QY+0RhpQLfOPetXYEh7dwaO54rrl72/kjvort7c/Dz6vQ6Gwy3sOLlTZ9zPmNc2qdz0J7fHw3XA+JdWiwK9YqLqeNaQ0iZftnVhmpr/9H0gRKKRdxk+NuTVkW59qxfQDPcL5LQmSmP1rwEvo2m56Udoodxc9Q9B9vfe6Reuiedqbmrgdg0wuurDeney2b14DqN1vyVVDNdAfE033gvs2YedJU1T0Z3O0IcMowjWj1v3QSE0FFYLbdrcZOY2mEObRcLHoigSRbFj65EKTMxhGjKalmgXZeghQ5hmVrVMWvrIb/Pkk9WrHqd3+9US3s3NCkQz13QnIa6c5K93JeuaueTMrjwJ05vZjQFS8BSjhMWw2tNoXiSs+cyaWaWd1FRRL7uLXIFMqTkn0WWkvVc9710CzRqdXkab2Chykqy1NbYVwVP13YrK+gVIS6De/RPK1wvko/Xq7YD+wZNtEhX6mYbuzB5BjRyKBk9rnjF7anz10mIOvIbmaLdiGfnFLBQAyE03dH5M7kVhsJFiMyhVPlxEkKl1aahN86R2mjqWcciA7YIRNr/EQQ4mrOKEZLW08KfXKoGNfQlAWsGr8xMTls78IExuBMcCY8qK7zbCbUy30p3I5/jWNzISooRgkpSkQNg8CtfJSehJ4JEqEi6KYeUjd5T842kRRHckkWfzGrzQiTB38sOOS+aRMG3Vdc7dtICXE+Kkv4BgrkwdhVb3jKOU18muDuXNZtNpzGvuJM9IpNqVgpfmu1SON/2DmztOnWhGO1Pz9Z5kqWm2pixoT/B5mQNIOgI14CU8MjQpfkSeJTyh1LeS4XFHrrf5AoaI+D4yagdPSGL4130WhhhJSPA3sR2YNuX9Es3RCWdGr5zKcCWfCnEazj9qJp/1E6+vssFXmFplzR5ZYdTCMNE61dam+kt3/sXNzBBTwe40NBuQIhxFlpgkUgx5YWEABuDcgID2wTZMlGuTVRrx8lfO+2STXOx275SZWgidiU8DSNBGZR3q3zhUimYj5kLYHRuxh7ld2bQX2gBSoW0oUYoEUaceHoxv0i83AOLEcbKWwJiMPHhCm6HNgdZ0KAZaLXDrlzRK37SbS3a3ojezWG/t5Jjs2F8/oGK1zP1Tpq4A1mdZmtU4dJ0kYFHmtPpeFEUmv75menoKbxKblqLHdmcsGob8dWgbPdZlFa9ItKAHIAUhbvNF4P2pMd5N5y14bJuc1iHu5lfPyAuaGtIEM82zHWmwQoamyCPVbijTPImbu4c4dmo3v7J+qoGWKNlF1mxqwikhRPVY50XNzpkW3WfmV67FMp17dHlcv2FpR0loYXwQxtAclq9KCVYKniAy8kC2J4VfTbfCn9YwqbkxKxdrlJrmunD7T7DSTqPNEKxYKUY0jWKg2mxaJobBNi3UH3YHfOyf0t1x6shAZldzOi70SyCkOOXBS6ZHIOSOIebK6zIkMLeaazUv8sm+Dbij/E+oQaSYGhsFUrMqF2BrYkDZwSSS3DBIg5cOOlQtmgt35H3HScwF3ZvmPaAUoKvGFiNm+SdJNXwKViixFHFMORagNb4w7QCarwAoEQTKPODZlMkw09p7WYFiHZg6pDRMShkMQQZjBaQmflC/JX4n7wft8JLauPZr7vUj7jgGr8aiEcAyI/ltuwpKsKmlx7aFD83HmJ/2Y/tsW/VyorliO58EniRK2u8EoMpeQpuG5obukdK8KMWU9gfyJ8vI/FxAa3IaV+Nc9Gbq12uJCblJ7eBFmrIC14xPf0/GV2spqayWPqse1b0gtPzvigNwNTWLOanTHZG6QZlBpBKYNzPhT/SpwBODFv2M19/kCeEO9wb9u2fiUf3e7DXICVLTTfNdXsg8PT4daKHVJMZxw1glM3WDoYGs0JSh51UXha7IRmzwkkpdMJ1lo2Who6qzUnSYkGOEQRIumZD3oRFk+P1CN6HfcRIrMv09B2taa5rqfpN3m2aBooQWhHHDgqdXsZqyEP2q8ZHGwUTEth7ffsWthb6SMosScJpBNAQjrZPVxFSzdJtqBPk8KmHPTbrrwcWXsdNUiDXRuRs/7B8ajb9KrX/UMjIy0pB95019DxmrVX0vzDhIAw/LB1E3EQR935cpyxMdjudO6Ma0ZFpnDGVCTAcZv6DB03mJFCMj2Wif3Lqj+dsmB47byXc/5FED5vyge/Z+1y33xHeDUotgUWoNmvJGqFKALS8BK4TICHT4nQtqoSf0y3uiJ3pddI+X8gWsLeA1mifMoDW1yUBlHWTqKGDzPi8VhvjdPUuvfyIn9ux+Ls4DN7iC8FSuO1LhfjvJHeFwdRbu+Pv+GY1Lz30dw/WLkuqGD0k0mJoetM71SPImtk2TeEJWISQDRP98b9wpTnSWjj60Ah+JGvACI0BapTONRgJFlv9SZk4lp2ZECkUkHK1SHeqOOBId16/6QN0fba3xHPEM71ic9Etu8XXJ5B9mcc9BFG5HPzwpte9OzB48DGU2G18f+/f3Qeq+pTGJH4CJ4CVaWMpAJdfOOPKGMTv8O8dXwnti3HuJH7DEitPcrURHmcjcU1IMpOY4v4JBBlBq6dudMS3dL2vy+iYNrvqX7/j3fRb1ASb3DjY2l+5l6e43JfyEPgQz7q27w6r+2L5hHjnh0XyIoGTGFu5Ru/lPvreAHJvU7bA7OO6+1wDia0WHHpCVk4VpeyBVdAjKDVTcTz5FHaN51Gh526BFcs+zX3wF/YWD/jeTirn9FWje13XEowDj6jXJgw0P9GjrstfSjTeew9alk/7Nh5pupH26z+apY8EX5IU2sUpZa4LkOg+eiY4dKRg/6r42Bu7Nb/2Hi6zOi5SA0sJQo1Vx3GVyT0sshBRbQCebm0QA+M+9cmvvRz+H7tRuBmnDP+NQbl3xW07usJSbavifHHA/n+rPiK5B/kYSEjPVIjCU17akjcwDMNRSt2JXiyD46/RMUF115e7Pf/tW97WJrbmhL6GgL4rdp7pikXbc4CcHWCJncbYHr+qj1WRlBiZ/PMuBc+EHj/idd2cKx8Orla8bl4aGHH0Uuoc1d4YA5MAioxVAOobWg1/GLKZdUkZJq4wSxcMhqwGw15s6NhoPHuBGF63Gqd9oyJjD7LeMRmV9HoVBpnXt90iDbsP9ILEKODIPmkT50YIo20TObKo8e36TIE1mbCp834F2hVxrhlXfoaTvfxXj7vGQ0yzTczS6WhJrIZVA6+mqlHmVpJSKQXE1AZDgJVJFbVKd9tOMhFLT21gMyMHWtIPyb4mo8SCISBsWPEtT5liDmau38kiOsTQi36aZQS4aTPzno4e/cHwl1Ff7gVO9zWNwa6N1oySli/R6XFUkLBUBUjOr4pIoSbCV7gxzkdGUcofgWcaVLcIQ8qjhUga8tiU9MW4lVLKvPJDqN5BE3839BiyxZBnrr5RleUzSogBcOnpstRzTw7Hj0oBjDzg1V2JgyWiRMCKXhzyTY/sZbazvVTv4MODZdU3BWCmYmNQnkvrJswpZmi2QJLLzAtu0l1yLywIPH/7C91ZkXnYz7eyf/7vHue4RqUFZk5BoI6DNZgBqmzyg3V8oCdfndQgpcIGuVDh0RCf7yQmXpSNrUUhqThSopLz7ZjVPlG3yZIyQWDVaOfTAd26FSdkjFeNx97MFSr/NZFcHcj4rqzlqV0GDp4pRmTfLgX7LnJCHFJBwreBM6As/5GEXp7FD8KD61d1bgGqSw9RC9SsEsSwz4EV+8N8qlzmKTMoCeOC+31sZ1aa0NZH8YgZKpbAu8bn6AGgq+dQQq5q0JjnUq9+AlEabLfMmZUk0syYHLaKNhqag4VaDLS1yTGkfun8jHJDtFlnTGVLroaYb/sHvH+Op1JfSgZAAYzIjNFU5M4y0fswUTIrtNqXMUQoy7Sj/QxB0kRAuiLZTMFQbzbri5IClzY/nrZSpK9xSIxyghw9//rvH0JK2PVBy+s/+7ZdZYn8boO2l1F+UjeRoyddS2vo2CLKDgACvHlTuhQICJEtPKNUwjEJbSJiICT5P+jHdT8t0SApd9n5UgAL6YU5vOkviKcN378eEtP2JIE6nvvHgU1zwkB1cXmsMGGhfHkuuFXhQ+dV8Lo1yqTbZkJhJUyyZ2wAXHtyjCXTpNkBtUTPp8tBAV9UlTwJNsX3dd9PPCQ5aDmObtKMfn73hU8d4vwWPSqKTyK3ZNdc+T1CdMZuTQnJq8ij7O0X1EYjSgkeiS2PuZNsI9wPzKaVrInjyCEpmgi/HpYY01uBBC0E1Vywf3Ql4Lu3s14M5HfiHx+4vS3o4Elg0wGlASWleOl+kNE8pofBjgDF1opbUUMS6un9Kywea1TGF3MuFYnkyAkJt22Dqt4X1JjnVghh3SJD3eSV9iQOW+7HDtGMAXTr46f/8EBXlF7izVU+B+n28NNrMSbUKDEL51pC+DIOSN2An6TqIQtKPBjuaaEuLZLjWvFR4YvcRINtHdkzSnwuwOfFUAV9gn/cg3kLakQ+06fSfPbhMw+Hj3P1y1ncIhqWOPt7TPo+iMtQ+r6kjmJX/XYXQTgErPLFtc40J7WT8cHuAg/qp8zIZb/ho9vOaoQh63NeCjtO4/1m5xrnT9HMBGNLrf/qv7mdCvshfl6XZbAdPSKQFr85rBphoXmYxHI30hm6g/VmkBQqAqr18G5ouC8jOhANau/ybOuXaZiNoboLOc7z2acJ26W0B6NLpx/7l8gh4sCjcVKNYTOdhGaksUx8Sv9f3cq/mn/R2d22OdJuJ+ZbVJgcsqb/Lg5ezLlZTo9kseOeHvoSyd4y1bhVvI71tAEN6mYHsw6+ffpG3pZZbwXOpNHPFYGZgzGlTs8yDJ02r/5DMTl84mzBftkGl9mtoEYbG57Ws3aq2jSVgjeNhvCPAhfSOASjTa4997ggTej9T/CtM93KVS415Sk0bhM+LefE6p1WCYfLny0lr2LavRCGrMZky5jr/e1PGDTT9FSvs4/6Et4G+dvjf/OVxvMPpFwKgTC8/dv8y7yAf6hAdYjN7N49vmf8WeYTLMBFZOuXAxDMjaPVRgPZ57ccajE9KyiRAJqsxVdvuQRNykSSV/Fm8UoxxYtzHcXf0D7/A9P8BsoccFiVb4mUAAAAASUVORK5CYII='
export const peerSwapIcon =
  'data:image/png;base64,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'
const MsgMore_bg_color = '#0d0d0d'
const MsgMore_border_color = '#babbbd'

const RoomInputBox = styled('div')`
  padding: 16px 20px 16px 20px;
  background: #0d0d0d;
  border-bottom-left-radius: 24px;
  border-bottom-right-radius: 24px;

  ${props =>
    props.className?.includes('hide') &&
    css`
      display: none;
    `}
  .msg_reply_dialog {
    padding: 10px;
    margin-bottom: 10px;
    background: ${MsgMore_bg_color};
    // border: 1px solid ${MsgMore_border_color};
  }
  .msg_reply_dialog_content {
    padding-left: 26px;
    padding-right: 62px;
  }
  .msg_reply_target_tips {
    position: relative;
    display: flex;
    justify-content: flex-start;
  }
  .msg_reply_tips_icon {
    width: 16px;
  }
  .msg_reply_tips_icon.cancel {
    position: absolute;
    right: -50px;
    cursor: pointer;
  }
  .msg_reply_tips_text {
    color: white;
    font-size: 12px;
    line-height: 16px;
    padding-left: 5px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .msg_reply_target_info {
    color: white;
    font-size: 12px;
    line-height: 16px;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`
const RoomInputRelative = styled('div')`
  position: relative;

  .room-input-more-box {
    padding: 8px 6px;
    position: absolute;
    top: -80px;
    left: 16px;
    z-index: 50;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    border-radius: 16px;
    border: 1px solid rgba(0, 0, 0, 0.05);
    background: ${MsgMore_bg_color};
    border: 1px solid ${MsgMore_border_color};
    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.05);
  }
  .room-input-more-box-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0 6px;
    cursor: pointer;
  }
  .room-input-more-box-item img {
    width: 65px;
    border-radius: 5px;
  }
  .room-input-more-box-item span {
    font-size: 12px;
    color: white;
    margin-top: 2px;
  }
`

const inputFontSize = '14px'
const RoomInputRow = styled('div')`
  min-height: calc(${inputFontSize} * 2);
  // border: 1px solid blue;
  font-size: ${inputFontSize};
  display: flex;
  align-items: end;

  .button_zone {
    // border: 1px solid yellow;
    display: inline-flex;
    justify-content: space-around;
    align-items: center;
    height: calc(${inputFontSize} * 2);
    width: 70px;
    .emoji_icon_enter {
    }
    .room_input_send {
    }
  }
  .room-input-more {
    width: 24px;
    height: 24px;
    margin-right: 26px;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    cursor: pointer;
    border-radius: 15px;
    transition: all ease 0.15s;
    /* background: #F2F3F7; */
  }
  @media (max-width: 600px) {
    .room-input-more {
      margin-right: 10px;
      margin-bottom: 5px;
    }
  }
  .room-input-more:hover svg {
    stroke: var(--primary-color);
  }
  .room-input-more-rotate {
    -webkit-transform: rotate(45deg);
    transform: rotate(45deg);
  }
  .room-input-more-box {
    padding: 8px 6px;
    position: absolute;
    top: -127px;
    left: 16px;
    z-index: 50;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: space-between;

    border-radius: 16px;
    border: 1px solid rgba(0, 0, 0, 0.05);
    background: #fff;
    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.05);
  }
  .room-input-more-box-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0 6px;
    cursor: pointer;
  }
  .room-input-more-box-item img {
    width: 65px;
    border-radius: 5px;
  }
  .room-input-more-box-item span {
    font-size: 12px;
    color: #666;
    margin-top: 2px;
  }
`
const EmojiEnter = styled('span')`
  position: relative;
  cursor: pointer;
  :hover {
    > svg {
      > path {
        fill: #b750ea;
      }
    }
  }
  .room-input-emoji-panel {
    background: #6a6a6a;
    padding: 5px;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    position: absolute;
    top: -190px;
    width: 350px;
    border-radius: 10px;
    right: -52px;
    border-radius: 10px;
  }
  .each_icon {
    cursor: pointer;
  }
`

export default function Page({
  room,
  useRoomFuncs,
  openUrlPreviewWidget,
  closeEmoji,
  showReplyOrEditMsgDialog,
  setShowReplyOrEditMsgDialog,
  inputFocus,
  moreOperateMsg,
  showCheckbox,
  uploadFile
}: RoomInputProps) {
  const [, setWeb3] = useState<providers.Web3Provider | undefined>()
  const uploadRef = useRef<null | HTMLInputElement>(null)
  const emojis = getEmojis()
  const [sendValue, setSendValue] = useState('') // text content which is going to be sent in input box
  // const [transferCount, setTransferCount] = useState(0)
  // const [showTransferTip, setShowTransferTip] = useState(false)
  // const [tokenSwapCount, setTokenSwapCount] = useState(0)
  // const [showTokenSwapTip, setShowTokenSwapTip] = useState(false)
  const [showInputMaxPrompt, setShowInputMaxPrompt] = useState(false) // whether display tips dialog when text content letters exceed max limit
  const [showMemberList, setShowMemberList] = useState(false)
  const [filteredMembers, setFilteredMembers] = useState<undefined | any[]>([])
  const [selectionIndex, setSelectionIndex] = useState(-1)
  const [atIndex, setAtIndex] = useState(0)
  const [memberFilter, setMemberFilter] = useState('')
  const [memberList, setMemberList] = useState([])
  const [memberListFocus, setMemberListFocus] = useState(0)
  const [showMoreBox, setShowMoreBox] = useState(false)
  const [showEmojiPanel, setShowEmojiPanel] = useState(false)
  const [isDmRoom, setIsDmRoom] = useState(true)
  const [sendTimestamp, setSendTimestamp] = useState(0)
  const [replyingToUser, setReplyingToUser] = useState<null | RoomMember>(null)
  const [localInputFocus, setLocalInputFocus] = useState(0)

  const { library } = useActiveWeb3React()

  const initMembers = useCallback(() => {
    if (!room) return
    setIsDmRoom(room.isDmRoom())
    const members: any[] = room.getJoinedMembers() || []
    const currentUserId = api._client.getUserId()
    const memberArr = members.filter((v: RoomMember) => v.userId !== currentUserId)
    memberArr.unshift({
      name: 'room',
      isRoom: true
    })
    setMemberList(memberArr as any)
  }, [room])

  useEffect(() => {
    if (library) {
      setWeb3(library)
      initMembers()
      if (room && room.sendValue) {
        setSendValue(room.sendValue)
      }
      document.addEventListener('click', handleClickInput)
    }
    return () => {
      document.addEventListener('click', handleClickInput)
    }
  }, [library, initMembers, room])

  useEffect(() => {
    setShowMoreBox(false)
    setShowEmojiPanel(false)
    setShowMemberList(false)
  }, [closeEmoji])

  // useEffect(() => {
  //   handleTransferTip()
  //   handleTokenSwapTip()
  // }, [sendValue]);

  useEffect(() => {
    if (moreOperateMsg) {
      const { sender } = moreOperateMsg
      setReplyingToUser(sender)
    }
  }, [moreOperateMsg])

  useEffect(() => {
    if (moreOperateMsg) {
      if (showReplyOrEditMsgDialog === 'edit') {
        setSendValue(moreOperateMsg.getContent().body)
        setSendTimestamp(Date.now())
      } else if (showReplyOrEditMsgDialog === 'reply') {
        setSendValue('')
      }
    }
    setLocalInputFocus(inputFocus)
  }, [inputFocus, moreOperateMsg, showReplyOrEditMsgDialog])

  useEffect(() => {
    if (room) {
      room.sendValue = sendValue
    }
  }, [sendValue, room])

  const upload = async (e: any) => {
    const file = e.target.files[0]
    const MaxUploadSize = 20 * 1024 * 1024 // 20 MB
    if (file.size && file.size > MaxUploadSize) {
      alert('image size exceeds max 20 MB')
    } else {
      try {
        let url = ''
        if (uploadFile) {
          url = await uploadFile(file)
        } else {
          url = await api._client.uploadContent(file)
        }
        await api._client.sendMessage(
          room.roomId,
          {
            body: file.name,
            msgtype: 'm.image',
            url
          },
          ''
        )
      } catch (error) {
        console.log(error)
      }
      if (uploadRef?.current) uploadRef.current.value = ''
    }
  }

  const inputChange = (val: string) => {
    // listen text content change event in input box
    // const val = e.target.value;
    setShowInputMaxPrompt(val.length > 2000)
    if (val.length <= 2000) {
      setSendValue(val)
      // if (!isDmRoom) {
      //   setShowMemberList(/\@$/.test(val))
      // }
    }
  }

  useEffect(() => {
    if (sendValue.length === 0) setShowInputMaxPrompt(false)
  }, [sendValue])

  const handleClickInput = () => {
    setShowMoreBox(false)
  }

  const onSelectionChanged = (start: number, end: number) => {
    if (isDmRoom) return
    let shouldShowMentionList = false
    if (start === end) {
      const lastIndex = sendValue.lastIndexOf('@')
      if (lastIndex >= 0 && lastIndex < start) {
        const editValue = (sendValue.slice(lastIndex + 1, start) || '').toLowerCase()
        setAtIndex(lastIndex)
        setMemberFilter(editValue)
        const list = memberList?.filter((value: any) => value.name && value.name.toLowerCase().includes(editValue))
        setFilteredMembers(list)
        if (list && list.length) {
          shouldShowMentionList = true
        }
      }
    }
    setShowMemberList(shouldShowMentionList)
  }

  const valueAtCheck = () => {
    let resultStr = sendValue
    let hasAt = false
    memberList.map((item: any) => {
      if (resultStr.indexOf('@' + item?.name) !== -1) {
        hasAt = true
        const reg = new RegExp('@' + item?.name, 'g')
        // const address = item.userId.split(":")[1];
        // const result = `<a href=\"https://app.sending.me/#/user/@0x${address}:hs.sending.me\">${item?.name}</a>`
        const result = item?.name
        resultStr = resultStr.replace(reg, result)
      }
    })
    return hasAt ? resultStr : ''
  }

  const handleEmojiClick = (e: React.MouseEvent) => {
    e.stopPropagation()
    setShowEmojiPanel(!showEmojiPanel)
    setShowMemberList(false)
  }
  const handlePopoverClose = (e: React.MouseEvent) => {
    e.stopPropagation()
    setShowEmojiPanel(!showEmojiPanel)
    setShowMemberList(false)
  }

  const handleEmojiItemClick = (emoji: EmojiBaseProps) => {
    const val = sendValue + emoji.unicode
    setSendValue(val)
  }

  const handleAtMemberClick = (m: RoomMember | undefined, e: undefined | MouseEvent) => {
    if (e) {
      e.preventDefault()
      e.stopPropagation()
    }
    const n = m?.user?.displayName || m?.name
    let val
    let selectionIndex = -1
    if (atIndex >= 0 && sendValue && sendValue.length >= atIndex) {
      selectionIndex = atIndex + 1 + memberFilter.length
      const left = sendValue.slice(0, atIndex + 1)
      const right = sendValue.slice(selectionIndex, sendValue.length)
      val = left + n + ' ' + right
      selectionIndex = atIndex + 2 + (n?.length ? n?.length : 0)
    } else {
      val = sendValue + n + ' '
    }
    setShowMemberList(false)
    setMemberListFocus(0)
    setSendValue(val)
    setSelectionIndex(selectionIndex)
    // setLocalInputFocus(Date.now());
  }

  const onKeyDown = async (e: KeyboardEvent) => {
    const { key, keyCode } = e
    if (['ArrowUp', 'ArrowDown'].includes(key) && showMemberList) {
      let index = memberListFocus
      const len = filteredMembers?.length ? filteredMembers?.length - 1 : 0
      if (key === 'ArrowDown') {
        index += 1
        index = index > len ? 0 : index
      } else {
        index -= 1
        index = index < 0 ? len : index
      }
      setMemberListFocus(index)
      e.preventDefault()
      return
    }
    if (key === 'Enter' && keyCode === 13 && showMemberList) {
      const m = filteredMembers?.[memberListFocus]
      handleAtMemberClick(m, undefined)
      e.stopPropagation()
      e.preventDefault()
      return
    }
    // if (key === '@') {
    //   if (!isDmRoom) {
    //     if (e.currentTarget) {
    //       const { selectionStart, selectionEnd } = e.currentTarget;
    //       if (selectionStart === selectionEnd && selectionEnd > 0) {
    //         setAtIndex(selectionEnd);
    //       }
    //     }
    //     setShowMemberList(true);
    //     return
    //   }
    // }
  }

  const sendMessage = async () => {
    try {
      const formatBodyStr = valueAtCheck()
      const content = {
        body: sendValue + '',
        msgtype: 'm.text',
        format: formatBodyStr ? 'org.matrix.custom.html' : undefined,
        formatted_body: formatBodyStr ? formatBodyStr : undefined
      }
      console.log(sendValue)

      if (showReplyOrEditMsgDialog) {
        console.log('roomInput receive msg is ', moreOperateMsg)
        // const {event_id, sender} = moreOperateMsg.event
        // const userData = api._client.getUser(sender);
        // content.body = `> <${sender}> ${content.body}\n\n${sendValue}`
        // content.formatted_body =  `<mx-reply><blockquote><a href=Invitations\`https://app.hiseas.im/#/room/!eqX7ff3bc8wDxMc8-@sdn_ac8ca4c720fe407378d51bb95287a78a5d941a5c:ac8ca4c720fe407378d51bb95287a78a5d941a5c/$rQoLBA5gvWqcbTXluna0FLSOFnXAc4JsVEY1wKOR4-I&via=ac8ca4c720fe407378d51bb95287a78a5d941a5c&via=dab2b017b6f3e52c61d2f3fb275dae4234f072d3\">In reply to</a> <a href=\"https://app.hiseas.im/#/user/@sdn_dab2b017b6f3e52c61d2f3fb275dae4234f072d3:dab2b017b6f3e52c61d2f3fb275dae4234f072d3\">@sdn_dab2b017b6f3e52c61d2f3fb275dae4234f072d3:dab2b017b6f3e52c61d2f3fb275dae4234f072d3</a><br>${content.body}</blockquote></mx-reply>${sendValue}`
      }
      if (showReplyOrEditMsgDialog === 'reply') {
        // reply msg
        // @ts-expect-error: sdk missing type
        content['m.relates_to'] = {
          'm.in_reply_to': {
            event_id: moreOperateMsg.event.event_id
          }
        }
        console.log('-----reply-----', showReplyOrEditMsgDialog, content, replyingToUser)
      } else if (showReplyOrEditMsgDialog === 'edit') {
        // update msg
        // @ts-expect-error: sdk missing type
        content['m.new_content'] = {
          msgtype: 'm.text',
          body: sendValue + ''
        }
        // @ts-expect-error: sdk missing type
        content['m.relates_to'] = {
          event_id: moreOperateMsg.event.event_id,
          rel_type: 'm.replace'
        }
        console.log('-----edit-----', showReplyOrEditMsgDialog, content)
      } else {
        // add new msg
        console.log('-----send-----', showReplyOrEditMsgDialog, content)
      }
      setSendValue('')
      setShowReplyOrEditMsgDialog('') // should close reply/edit dialog before send msg to back end
      await api._client.sendMessage(room.roomId, content, '')

      // let text = sendValue;
      // transfer(text);
      // tokenSwap(text);
    } catch (error) {
      console.error(error, 'sendMessage')
    }
  }

  const handleSendClick = (e: React.MouseEvent | React.TouchEvent) => {
    e.preventDefault()
    e.stopPropagation()
    if (sendValue) {
      sendMessage()
      setSendTimestamp(Date.now())
    }
  }

  const handleCancelReplyOfEditIcon = () => {
    setSendValue('')
    setShowReplyOrEditMsgDialog('')
    setSendTimestamp(Date.now())
  }

  return (
    <RoomInputBox className={`room_input_box ${!showCheckbox ? '' : 'hide'}`}>
      {showReplyOrEditMsgDialog && (
        <div className="msg_reply_dialog">
          <div className="msg_reply_dialog_content">
            <div className="msg_reply_target_tips">
              <img
                className="msg_reply_tips_icon"
                src={showReplyOrEditMsgDialog === 'reply' ? msgMoreOptIcon[0] : msgMoreOptIcon[4]}
                alt=""
              />
              <div className="msg_reply_tips_text">
                {showReplyOrEditMsgDialog === 'reply' ? `Replying to ${replyingToUser?.name ?? ''}` : 'Editing'}
              </div>
              <img
                className="msg_reply_tips_icon cancel"
                src={msgMoreOptIcon[6]}
                onClick={handleCancelReplyOfEditIcon}
                alt=""
              />
            </div>
            <div className="msg_reply_target_info">
              {/* const { body, msgtype, ...other } = content; */}
              {moreOperateMsg.getContent().body}
            </div>
          </div>
        </div>
      )}
      <RoomInputRelative className="room_input_relative">
        {/* { renderTransferTip() }
          { renderTokenSwapTip() } */}

        {showMemberList && (
          <MentionList
            // room={room}
            memberList={filteredMembers}
            memberListFocus={memberListFocus}
            handleAtMemberClick={handleAtMemberClick}
          />
        )}

        {/* input maximum prompt */}
        {showInputMaxPrompt && <div className="room_input_box-maxsize">Input charatars exceeds maximum 4000</div>}

        <RoomInputRow className="room_input_row">
          {useRoomFuncs && useRoomFuncs.split(',').length > 0 && (
            <EmojiEnter
              className={['room-input-more', showMoreBox ? 'room-input-more-rotate' : ''].join(' ')}
              onClick={e => {
                e.stopPropagation()
                setShowMoreBox(!showMoreBox)
                setShowMemberList(false)
              }}
            >
              <PlusIcon />
              <input ref={uploadRef} type="file" accept="image/*" style={{ display: 'none' }} onChange={upload} />
            </EmojiEnter>
          )}
          <InputArea
            value={sendValue}
            placeholder="Write a message..."
            inputFocus={localInputFocus}
            onChange={inputChange}
            onSelectionChanged={onSelectionChanged}
            selectionIndex={selectionIndex}
            onKeyDown={onKeyDown}
            sendMessage={sendMessage}
            sendTimestamp={sendTimestamp}
            showMemberList={showMemberList}
          />
          <div className="button_zone">
            <EmojiEnter
              className="emoji_icon_enter svg-btn svg-btn-fill"
              onClick={(e: React.MouseEvent) => handleEmojiClick(e)}
            >
              <SmileIcon />
              {showEmojiPanel && (
                <Box
                  onMouseLeave={handlePopoverClose}
                  className="room-input-emoji-panel"
                  onClick={e => e.stopPropagation()}
                >
                  {emojis.map((emoji, emojiIndex) => {
                    return (
                      <span
                        className="room-input-emoji-panel-item"
                        style={{
                          fontSize: '18px'
                        }}
                        key={emojiIndex}
                        onClick={() => handleEmojiItemClick(emoji)}
                      >
                        <span className="each_icon">{emoji.unicode}</span>
                      </span>
                    )
                  })}
                </Box>
              )}
            </EmojiEnter>

            <EmojiEnter
              sx={{ cursor: 'pointer' }}
              className={`room_input_send${sendValue ? ' active' : ''}`}
              onMouseDown={(event: React.MouseEvent) => handleSendClick(event)}
              onTouchStart={(event: React.TouchEvent) => handleSendClick(event)}
            >
              <SendIcon />
            </EmojiEnter>
          </div>
        </RoomInputRow>

        {showMoreBox && (
          <div className="room-input-more-box" onClick={e => e.stopPropagation()}>
            {useRoomFuncs.split(',').includes('SendImage') && (
              <div
                className="room-input-more-box-item"
                onClick={() => {
                  setShowMoreBox(false)
                  // uploadRef.current.click();
                  uploadRef?.current?.dispatchEvent(new MouseEvent('click'))
                }}
              >
                <img src={msgImageIcon} alt="" />
                <span>Image</span>
              </div>
            )}
            {useRoomFuncs.split(',').includes('MoneyGun') && (
              <div
                className="room-input-more-box-item"
                onClick={() => {
                  const moneyGunUrl = `https://lucky.socialswap.com/create?st=wgsdn&roomId=${room.roomId}`
                  const url = `${moneyGunUrl}${'addTimestamp(moneyGunUrl)'}`
                  setShowMoreBox(false)
                  openUrlPreviewWidget(url)
                }}
              >
                <img src={moneyGunIcon} alt="" />
                <span>Money Gun</span>
              </div>
            )}
            {useRoomFuncs.split(',').includes('PeerSwap') && (
              <div
                className="room-input-more-box-item"
                onClick={() => {
                  const peerSwapUrl = `https://swap.socialswap.com/create?st=wgsdn&roomId=${room.roomId}`
                  const url = `${peerSwapUrl}${''}`
                  setShowMoreBox(false)
                  openUrlPreviewWidget(url)
                }}
              >
                <img src={peerSwapIcon} alt="" />
                <span>PeerSwap</span>
              </div>
            )}
          </div>
        )}
      </RoomInputRelative>
    </RoomInputBox>
  )
}
